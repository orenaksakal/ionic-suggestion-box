<!--
  Generated template for the PlacePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{placeName}}</ion-title>
  </ion-navbar>

  <div padding>
    <ion-segment [(ngModel)]="placeSeg">
      <ion-segment-button value="see">
        See Suggestions
      </ion-segment-button>
      <ion-segment-button value="make">
        Make a Suggestion
      </ion-segment-button>
    </ion-segment>
  </div>
</ion-header>

<ion-content>
  <div [ngSwitch]="placeSeg">
    <ion-list *ngSwitchCase="'see'">
      <ion-item text-wrap *ngFor="let suggestion of suggestions | async">
        <ion-thumbnail item-left>
          <img src="https://www.iconfinder.com/data/icons/users-android-l-lollipop-icon-pack/24/user-128.png">
        </ion-thumbnail>

        <h2>{{suggestion.title}}</h2>

        <h3>{{suggestion.text}}</h3>

      </ion-item>

    </ion-list>

    <ion-list *ngSwitchCase="'make'">
      <ion-list>

        <ion-item>
          <ion-label stacked>Title</ion-label>
          <ion-input type="text" placeholder="Describe your suggestion shortly." #title></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>Details</ion-label>
          <ion-textarea rows="5"
                        placeholder="Explain your suggestion detaily, its best to write as much as you can."
                        #details></ion-textarea>
        </ion-item>
      </ion-list>

      <div padding>
        <button *ngIf="details.value  !='' && title.value != ''" ion-button color="primary"
                (click)="makeSuggestion(title.value,details.value);  title.value = ''; details.value = ''" block>Send
        </button>
      </div>
    </ion-list>
  </div>
</ion-content>
